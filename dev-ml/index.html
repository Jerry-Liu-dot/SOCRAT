<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>SOCR Teachable Machine</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<!-- Import TensorFlow.js -->
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
	<!-- Import tfjs-vis -->
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-vis@1.0.2/dist/tfjs-vis.umd.min.js"></script>
	<!-- Import papaparse-->
	<script src="node_modules/papaparse/papaparse.min.js"></script>
	<!-- Import the main script file -->
	<script src="script.js" type="module"></script>
</head>

<body>

<div id="titleContainer">
	<h1>SOCR Teachable Machine</h1>
	<h3>Future goals</h3>
	<p>Listed in order of precedence</p>
	<ul>
		<li> Split data into training and validation sets
		<li> Fully customizable model parameters
		<li> Allow for batch prediction operation from array or JavaScript Object
    inputs
		<li> TensorBoard visualization
		<li> Customizable callback functions
		<li> Convert string labels into numbers
		<li> Pre-configured transfer learning models
    <li> Incoporate existing SOCR data for "demonstration"
    <li> Redesign and refine UI
    <li> Host this webapp on the SOCRAT server
    <li> Migrate to Angular.JS or CoffeeScript
	</ul>

	<h3>Known issues</h3>
	<ul>
		<li> Only csv (comma-separated values) files are supported. Support for
		tsv will be added in the near future.
		<li> Only numerical features/labels are supported at this point
		<li> No user interface
		<li> The applet would drop entire rows when it detects an undefined value
		(with a null string) in those rows.
	</ul>
</div>

<hr>

<!--File upload button-->
<div id = "fileInputContainer">
	<label for="fileInput">Choose file to upload<br/></label>
	<input id="fileInput" type="file"
	       accept="text/csv, .csv, .tsv, text/csv-schema, application/vnd.ms-excel"/>
</div>

<div id="fileInfoContainer"></div>

<!--Submit File and load data-->
<div id="submissionContainer">
	<button id="viewFile">Submit</button>
</div>

<hr>

<div id="featureSelectionContainer">
	<label for="featureSelection">Choose feature: </label>
	<select name="featureSelection" id="featureSelection" multiple="true"></select>
</div>

<div id="labelSelectionContainer">
	<label for="labelSelection">Choose label: </label>
	<select name="labelSelection" id="labelSelection" multiple="true"></select>
</div>

<div id="confirmSelectionContainer">
	<button id="confirmSelection">Confirm</button>
<!--  <button id="multidimensionalTest">Test Multidimensional Input</button>-->
	<div id="loadComplete"></div>
</div>

<hr>

<div id="modelDefinitionContainer">
	An interface for customizing models will be implemented here.
</div>

<hr>

<div id="trainingContainer">
	<label for="optimizerSelector">Choose optimizer</label>
	<select id="optimizerSelector" name="optimizerSelector">
		<option value="sgd">Stochastic Gradient Descent</option>
		<option value="momentum">Momentum Gradient Descent</option>
		<option value="adagrad">Adagrad Algorithm</option>
		<option value="adadelta">Adadelta Algorithm</option>
		<option value="adam">Adam Algorithm</option>
		<option value="adamax">Adamax Algorithm</option>
	</select><br>

	<label for="lossSelector">Choose loss function</label>
	<select id="lossSelector" name="lossSelector">
		<option value="absoluteDifference">Absolute Difference Loss</option>
		<option value="computeWeightedLoss">Weighted Loss</option>
		<option value="cosineDistance">Cosine Distance Loss</option>
		<option value="hingeLoss">Hinge Loss</option>
		<option value="huberLoss">Huber Loss</option>
		<option value="logLoss">Log Loss</option>
		<option value="meanSquaredError">Mean Squared Error</option>
		<option value="sigmoidCrossEntropy">Sigmoid Cross Entropy Loss</option>
		<option value="softmaxCrossEntropy">Softmax Cross Entropy Loss</option>
	</select><br>

	<label for="metricSelector">Choose metrics</label>
	<select id="metricSelector" name="metricSelector">
		<option value="binaryAccuracy">Binary Accuracy</option>
		<option value="binaryCrossEntropy">Binary Cross Entropy</option>
		<option value="categoricalAccuracy">Categorical Accuracy</option>
		<option value="categoricalCrossEntropy">Categorical Cross Entropy</option>
		<option value="cosineProximity">Cosine Proximity</option>
		<option value="meanAbsoluteError">Mean Absolute Error</option>
		<option value="meanAbsolutePercentageError">Mean Absolute
			Percentage Error</option>
		<option value="mse">Mean Squared Error</option>
		<option value="precision">Precision</option>
		<option value="recall">Recall of Predictions</option>
		<option value="sparseCategoricalAccuracy">Sparse Categorical Accuracy</option>
	</select><br>

	<label for="batchSize">Enter number of data items for each batch</label>
	<input type="text" id="batchSize" name="batchSize"/><br>
	<label for="epochNumber">Enter number of training epochs</label>
	<input type="text" id="epochNumber" name="epochNumber"/><br>
	<button id="trainingStarter">Start Training</button>
	<div id="trainingOutput"></div>
</div>

<hr>

<div id="testingContainer">
	<button id="testingStarter">Test Model</button><br>

  <div id="predictionContainerHeading">
    Enter values for feature attributes to run model prediction.
  </div>
  <!-- Content to be generated by JavaScript code. -->
  <div id="modelPredictionContainer"></div>

	<button id="confirmPredictionInput" name="confirmPredictionInput">Predict
		Value	</button>
	<div id="predictedValueContainer"></div>
</div>

</body>
</html>
